```python
from collections import deque

X = int(input())

q = deque([X])
visited = [False] * X
ans = []

while q:
	x = q.popleft()
	ans.append(x)
	
	flag = 0
	
	if x == 1:
		break
	
	if x%3 == 0 and not visited[x//3]:
		visited[x//3] = True
		q.append(int(x/3))
		flag = 1
	if x%2 == 0 and not visited[x//2]:
		visited[x//2] = True
		q.append(int(x/2))
		flag = 1
	if not visited[x-1]:
		visited[x-1] = True
		q.append(int(x-1))
		flag = 1
	
	if flag == 0:
		answer.remove(x)
	
ans = [n]
while ans[-1] != 1:
	bef = ans[-1]
	ans.append(visited[bef])

print(len(answer)-1)
print(*answer)
```
